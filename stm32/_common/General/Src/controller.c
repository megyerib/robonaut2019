////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//!
//!  \file      controller.c
//!  \brief     
//!  \details   
//!
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// Includes ------------------------------------------------------------------------------------------------------------

#include "controller.h"

// Defines -------------------------------------------------------------------------------------------------------------

// Typedefs ------------------------------------------------------------------------------------------------------------

// Local (static) & extern variables -----------------------------------------------------------------------------------

// Local (static) function prototypes ----------------------------------------------------------------------------------

// Global function definitions -----------------------------------------------------------------------------------------

float control(float in, CONTROLLER* C)
{
    float out, diff;

    C->sum += in;
    diff = in - C->prev;

    out = (C->P * in) + (C->I * C->sum) + (C->D * diff);

    C->prev = in;

    return out;
}

// Local (static) function definitions ---------------------------------------------------------------------------------
